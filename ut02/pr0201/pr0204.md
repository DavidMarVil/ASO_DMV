[Volver al inicio](../../index.md)

## Exploración básica de procesos:
Abre una terminal y utiliza el comando ps para listar los procesos asociados a tu usuario. Anota el PID (Process ID) de al menos tres procesos.
1250
1276
1277

Usa el comando ps aux para listar todos los procesos del sistema. Identifica y anota el PID de un proceso que no pertenezca a tu usuario.
361
366
390


### Responde a las siguientes preguntas:
¿Qué diferencia hay entre el comando ps y ps aux?
El comando ps solamente muestra los procesos asociados a tu usuario mientras que ps aux muestra los procesos de todo el sistema no solo los de tu usuario.

Cuando decimos que un proceso pertenece a un usuario, ¿qué implicaciones tiene? Es decir, ¿en qué afecta eso al proceso?
El proceso que fue iniciado por un usuario, este tendra los mismos permisos que el usuario en el que se creo.

### Monitorización de procesos en tiempo real:
Utiliza el comando top para monitorizar los procesos en tiempo real. Identifica el proceso que consume más CPU y anota su PID.
1490
Cambia la visualización de top para ordenar los procesos por uso de memoria (tecla M). Anota el nombre del proceso que consume más memoria.
unattended-upgr

¿Qué columnas de información se muestran en top y cuál es su significado?
PID: Identificador del proceso.
USER:Usuario propietario del proceso.
PR:Prioridad del proceso si el numero es  menor es mayor la prioridad).
NI:“Nice value”: valor de ajuste de prioridad
VIRT:Memoria virtual total usada por el proceso
RES:Memoria residente: la cantidad de RAM física usada actualmente.
SHR:Memoria compartida con otros procesos.
S:Estado del proceso
%CPU:Porcentaje de uso del CPU que consume el proceso.
%MEM:Porcentaje de memoria RAM que usa el proceso.
TIME+:Tiempo total de CPU consumido desde que el proceso se inició.
COMMAND:Nombre o comando del proceso.

Cómo puedes cambiar el intervalo de actualización de top?
Se puede usar el comando top con el parametro -d y el tiempo en segundos.
````
top -d 1
````

### Detener y reanudar procesos:
Ejecuta el comando sleep 300 & para crear un proceso en segundo plano que duerma durante 300 segundos.

Usa el comando jobs para listar los trabajos en segundo plano. Anota el ID del trabajo.
````
david@dmvssh:~$ sleep 300 &
[2] 1607
````

Detén el proceso usando el comando kill con la señal SIGSTOP. Verifica que el proceso esté detenido.
````
david@dmvssh:~$ kill -20 1607
david@dmvssh:~$ jobs
[1]-  Stopped                 yes
[2]+  Stopped                 sleep 300
````
Reanuda el proceso usando el comando kill con la señal SIGCONT. Verifica que el proceso esté en ejecución nuevamente.
````
david@dmvssh:~$ kill -18 1607
david@dmvssh:~$ jobs
[1]+  Stopped                 yes
[2]-  Running                 sleep 300 &
````

Responde a las siguientes preguntas:
¿Qué efecto tiene la señal SIGSTOP sobre un proceso?
Detiene el proceso.

¿Cómo puedo verificar si un proceso está detenido o en ejecución?
Con el comando jobs.

### Terminar procesos:
Crea un proceso en segundo plano con el comando sleep 600 &.
````
david@dmvssh:~$ sleep 600 &
[3] 1621
````
Usa el comando ps para encontrar el PID del proceso sleep.
````
david@dmvssh:~$ ps
    PID TTY          TIME CMD
   1250 pts/0    00:00:00 bash
   1276 pts/0    00:00:00 yes
   1621 pts/0    00:00:00 sleep
   1622 pts/0    00:00:00 ps
````
Termina el proceso usando el comando kill con la señal SIGTERM. Verifica que el proceso haya sido eliminado.
````
david@dmvssh:~$ kill -15 1621
david@dmvssh:~$ jobs
[1]+  Stopped                 yes
[3]-  Terminated              sleep 600
````
Responde a las siguientes preguntas:
¿Qué diferencia hay entre las señales SIGTERM y SIGKILL?
SIGTERM le pide al proceso que termine de una forma adecuada y SIGKILL lo cierra inmediatamente.

¿Por qué es preferible utilizar SIGTERM antes que SIGKILL para terminar un proceso?
Es mejor usar SIGTERM ya que lo cierra de una mejor manera ya que puede guardar datos pendientes, cerrar archivos abiertos, mientras que SIGKILL no da oportunidad a hacer nada de esto.

### Prioridades de procesos:
Ejecuta el comando nice -n 10 sleep 300 & para crear un proceso con una prioridad baja.
````
david@dmvssh:~$ nice -n 10 sleep 300 &
[2] 1670
````
Usa el comando ps -l para ver la prioridad (NI) del proceso. Anota el valor de NI.
Tiene un valor de 10.
````
david@dmvssh:~$ ps -l
F S   UID     PID    PPID  C PRI  NI ADDR SZ WCHAN  TTY          TIME CMD
0 S  1000    1250    1249  0  80   0 -  2459 do_wai pts/0    00:00:00 bash
0 T  1000    1276    1250  0  80   0 -  1440 do_sig pts/0    00:00:00 yes
0 S  1000    1670    1250  0  90  10 -  1440 hrtime pts/0    00:00:00 sleep
0 R  1000    1671    1250 99  80   0 -  2460 -      pts/0    00:00:00 ps
````
Cambia la prioridad del proceso usando el comando renice. Establece la prioridad a 5 y verifica el cambio con ps -l.
````
david@dmvssh:~$ sudo renice -5 1646
[sudo] password for david:
1646 (process ID) old priority 10, new priority -5
````
Responde a las siguientes preguntas:
¿Para qué sirve el comando nice?
Para iniciar un proceso con una prioridad determinada.

¿Qué rango de valores puede tomar la prioridad (nice value) de un proceso y qué significa cada extremo?
Puede tomar de -20 a +19, siendo el numero mas bajo el que tiene mayor prioridad y el mas alto el de menor prioridad.

¿Qué ocurre si intentas cambiar la prioridad de un proceso que no te pertenece?
Si no eres el propietario y no usas sudo no se podra cambiar la prioridad

### Procesos en primer y segundo plano:
Ejecuta el comando sleep 200 en primer plano. Detén el proceso usando Ctrl+Z.
Usa el comando bg para mover el proceso detenido a segundo plano.
Trae el proceso de segundo plano a primer plano usando el comando fg.
Responde las siguientes preguntas:
¿Qué significa que un proceso está en segundo plano?
Que el proceso se esta ejecutando pero no ocupa la terminal.

¿Qué comando utilizarías para mover un proceso detenido a segundo plano?
````
david@dmvssh:~$ bg
[1]+ sleep 200 &
````
¿Cómo puedes traer un proceso de segundo plano a primer plano si tienes múltiples trabajos en segundo plano?
````
david@dmvssh:~$ fg
sleep 200
````


### Uso de pstree y htop:
Instala la herramienta htop si no está disponible en tu sistema (sudo apt install htop).
Usa htop para explorar los procesos de manera interactiva. Filtra los procesos por usuario y anota el nombre de un proceso que pertenezca a otro usuario.
Usa el comando pstree para visualizar los procesos en forma de árbol. Identifica un proceso padre y sus procesos hijos, y anota sus nombres.
sshd───sshd-session───sshd-session───bash───pstree

¿Qué ventaja tiene utilizar pstree frente a ps para visualizar procesos?
Puedes ver quien es el proceso padre de cada uno y facilita entender la jerarquia entre procesos.

¿Cómo puedes filtrar procesos por usuario en htop?
Usando -u y el nombre del usuario del cual queremos ver los procesos.
````
david@dmvssh:~$ htop -u david
````

### Matar procesos de manera forzosa:
Crea un proceso en segundo plano con sleep 400 &.
Usa el comando kill -9 para terminar el proceso de manera forzosa. Verifica que el proceso haya sido eliminado.
Responde las siguientes preguntas:
¿En qué casos sería necesario usar kill -9 en lugar de kill sin opciones?
Cuando  querramos cerrar un proceso en concreto.

¿Qué riesgos implica usar SIGKILL para terminar un proceso?
Que no se cierre de una manera adecuada.






